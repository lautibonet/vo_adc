<div class="row">

    <article class="col-xs-12 col-sm-12 col-md-12 col-ls-12 card-component">
      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-ls-12">
          <md-card>
            <div class="card-button-header">
              <div class="row">
                <!-- ACCIONES -->
                <div class="col-xs-10 col-sm-8 col-md-6 col-lg-6">
                  <button md-button [mdMenuTriggerFor]="acciones" class="menu-button align-vertical">
                    <md-icon class="align-vertical align-left">more_vert</md-icon> ACCIONES
                  </button>
                  <md-menu #acciones="mdMenu" xPosition="after" yPosition="below" [overlapTrigger]="false" >
                  </md-menu>
                </div>
                <!-- DETALLE -->
                <div class="col-xs-2 col-sm-4 col-md-6 col-lg-6 align-right">
                  <button md-button (click)='showDetails()'><span class="hide-mobile">DETALLE</span>
                    <md-icon *ngIf="detailsShown == 'close'">expand_more</md-icon>
                    <md-icon *ngIf="detailsShown == 'open'">expand_less</md-icon>
                  </button>
                </div>
              </div>
            </div>

            <consultation-header-info [consultation]="consultation"></consultation-header-info>

            <div class="consultation-detail" [@expandCollapse]="detailsShown">
              <div class="row item">
                <div class="col-xs-12 col-sm-12 col-md-12 col-ls-12">
                  <div class="row">
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                      <h4 class="no-margin">Autor</h4>
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                      <h4 class="no-margin align-right">Canal de Ingreso</h4>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                      <h4 class="no-margin"><b>{{consultation.author}}</b></h4>
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 align-right">
                      <label class="no-margin">{{consultation.channel}}</label>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row" *ngFor="let activity of consultation.history; let idx = index">
                <div class="col-xs-12 col-sm-12 col-md-12 col-ls-12 consultation-activity-header">

                  <div class="row">
                    <div class="col-xs-4 col-sm-4 col-md-4 col-ls-4">
                      <h3 class="no-margin" *ngIf="activity.type_code == 1"><md-icon>arrow_forward</md-icon> Consulta</h3>
                      <h3 class="no-margin" *ngIf="activity.type_code == 2"><md-icon>arrow_back</md-icon> Respuesta</h3>
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-6 col-ls-6">
                      <h4 class="no-margin align-right">{{activity.updated}}</h4>
                    </div>
                    <div class="col-xs-2 col-sm-2 col-md-2 col-ls-2 align-right">
                      <button md-button (click)='expandConsultation(idx)'>DETALLE
                        <md-icon *ngIf="activityExpandCollapse(idx) == 'close'">expand_more</md-icon>
                        <md-icon *ngIf="activityExpandCollapse(idx) == 'open'">expand_less</md-icon>
                      </button>
                    </div>
                  </div>

                  <div class="row activity-detail" [@expandCollapse]="activityExpandCollapse(idx)">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-ls-12">
                      <form>
                        <p>{{activity.content}}</p>

                        <div *ngIf="idx == 0 && activity.type_code == 2">
                          <md-form-field>
                            <input mdInput placeholder="Ingrese Respuesta">
                          </md-form-field>

                          <div class="row">
                            <div class="col-xs-9 col-sm-9 col-md-8 col-ls-8">
                              <p class="no-margin">Si el problema no se ha solucionado presione en Reiterar, en caso
                                contrario haga click <a>aquí</a>. </p>
                            </div>
                            <div class="col-xs-3 col-sm-3 col-md-4 col-ls-4 align-right">
                              <button md-raised-button class="primary-button">RESPONDER</button>
                            </div>
                          </div>
                        </div>

                      </form>
                    </div>
                  </div>

                </div>
              </div>

              <!-- <footer>
                <div class="row is-table-row">
                  <div class="col-xs-9 col-sm-9 col-md-8 col-ls-8">
                    <p class="no-margin">Si el problema no se ha solucionado presione en Reiterar, en caso
                      contrario haga click <a>aquí</a>. </p>
                  </div>
                  <div class="col-xs-3 col-sm-3 col-md-4 col-ls-4 align-right">
                    <button md-raised-button class="primary-button">REITERAR</button>
                  </div>
                </div>
              </footer> -->

            </div>

          </md-card>

        </div>
      </div>

    </article>

  </div>
